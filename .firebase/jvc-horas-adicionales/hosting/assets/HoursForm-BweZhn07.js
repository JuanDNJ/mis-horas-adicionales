import{C as e,at as t,f as n,n as r,q as i,r as a,rt as o,t as s}from"./vendor-5br9Pmv5.js";import{a as c}from"./Main-uK7Yr_lq.js";import{t as l}from"./useUserProfile-CYApFkuB.js";var u=o(),d=i();const f=e=>{let t=(0,u.c)(17),n,i,a,o;t[0]===e?(n=t[1],i=t[2],a=t[3],o=t[4]):({className:n,classNames:i,showOutsideDays:o,...a}=e,t[0]=e,t[1]=n,t[2]=i,t[3]=a,t[4]=o);let l=o===void 0?!0:o,f;t[5]===n?f=t[6]:(f=c(`p-3 border-4 border-black bg-theme-bg shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]`,n),t[5]=n,t[6]=f);let m;t[7]===Symbol.for(`react.memo_cache_sentinel`)?(m=c(`h-7 w-7 bg-transparent p-0 flex items-center justify-center border-2 border-transparent hover:border-black transition-all hover:bg-black hover:text-white`),t[7]=m):m=t[7];let h;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(h=c(`h-9 w-9 p-0 font-bold aria-selected:opacity-100 hover:bg-black hover:text-white border-2 border-transparent transition-all`),t[8]=h):h=t[8];let g;t[9]===i?g=t[10]:(g={months:`flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0 text-theme-color`,month:`space-y-4`,caption:`flex justify-center pt-1 relative items-center mb-2`,caption_label:`text-lg font-black uppercase tracking-wider`,nav:`space-x-1 flex items-center`,nav_button:m,nav_button_previous:`absolute left-1`,nav_button_next:`absolute right-1`,table:`w-full border-collapse space-y-1`,head_row:`flex`,head_cell:`text-secondary rounded-md w-9 font-normal text-[0.8rem] uppercase`,row:`flex w-full mt-2`,cell:`h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20`,day:h,day_range_end:`day-range-end`,day_selected:`bg-theme-accent text-white hover:bg-theme-accent hover:text-white focus:bg-theme-accent focus:text-white border-2 border-black`,day_today:`bg-theme-secondary/20 text-theme-color border-2 border-theme-secondary text-accent-foreground`,day_outside:`day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30`,day_disabled:`text-muted-foreground opacity-50`,day_range_middle:`aria-selected:bg-accent aria-selected:text-accent-foreground`,day_hidden:`invisible`,...i},t[9]=i,t[10]=g);let _;t[11]===Symbol.for(`react.memo_cache_sentinel`)?(_={Chevron:p},t[11]=_):_=t[11];let v;return t[12]!==a||t[13]!==l||t[14]!==f||t[15]!==g?(v=(0,d.jsx)(s,{locale:r,showOutsideDays:l,className:f,classNames:g,components:_,...a}),t[12]=a,t[13]=l,t[14]=f,t[15]=g,t[16]=v):v=t[16],v};function p(e){return(0,d.jsx)(n,{...e,className:c(`h-4 w-4`,e.className)})}var m=o(),h=t();const g=e=>{let t=(0,m.c)(17),{trigger:n,content:r,className:i,isOpen:a,onOpenChange:o}=e,s=(0,h.useRef)(null),l,u;t[0]!==a||t[1]!==o?(l=()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&o(!1)};return a&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},u=[a,o],t[0]=a,t[1]=o,t[2]=l,t[3]=u):(l=t[2],u=t[3]),(0,h.useEffect)(l,u);let f;t[4]!==a||t[5]!==o?(f=()=>o(!a),t[4]=a,t[5]=o,t[6]=f):f=t[6];let p;t[7]!==f||t[8]!==n?(p=(0,d.jsx)(`div`,{onClick:f,children:n}),t[7]=f,t[8]=n,t[9]=p):p=t[9];let g;t[10]!==i||t[11]!==r||t[12]!==a?(g=a&&(0,d.jsx)(`div`,{className:c(`absolute z-50 mt-2 bg-theme-bg shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] border-4 border-black animate-in fade-in zoom-in-95 duration-200`,i),children:r}),t[10]=i,t[11]=r,t[12]=a,t[13]=g):g=t[13];let _;return t[14]!==p||t[15]!==g?(_=(0,d.jsxs)(`div`,{className:`relative inline-block w-full`,ref:s,children:[p,g]}),t[14]=p,t[15]=g,t[16]=_):_=t[16],_};var _=o(),v=e=>{let t=(0,_.c)(15),{label:n,children:r,className:i,headerActions:a}=e,o;t[0]===i?o=t[1]:(o=c(`flex flex-col gap-2 p-4 border-2 border-black bg-white/50`,i),t[0]=i,t[1]=o);let s;t[2]===n?s=t[3]:(s=(0,d.jsx)(`h3`,{className:`text-lg font-black uppercase italic text-theme-color`,children:n}),t[2]=n,t[3]=s);let l;t[4]===a?l=t[5]:(l=a&&(0,d.jsx)(`div`,{className:`flex items-center`,children:a}),t[4]=a,t[5]=l);let u;t[6]!==s||t[7]!==l?(u=(0,d.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center border-b-2 border-black pb-1 mb-2 gap-2`,children:[s,l]}),t[6]=s,t[7]=l,t[8]=u):u=t[8];let f;t[9]===r?f=t[10]:(f=(0,d.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:r}),t[9]=r,t[10]=f);let p;return t[11]!==o||t[12]!==u||t[13]!==f?(p=(0,d.jsxs)(`div`,{className:o,children:[u,f]}),t[11]=o,t[12]=u,t[13]=f,t[14]=p):p=t[14],p},y=e=>{let t=(0,_.c)(18),n,r,i,a;t[0]===e?(n=t[1],r=t[2],i=t[3],a=t[4]):({label:i,className:n,containerClassName:r,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a);let o;t[5]===r?o=t[6]:(o=c(`flex flex-col gap-1`,r),t[5]=r,t[6]=o);let s;t[7]===i?s=t[8]:(s=(0,d.jsx)(`label`,{className:`text-xs font-bold text-secondary uppercase tracking-wider ml-1`,children:i}),t[7]=i,t[8]=s);let l;t[9]===n?l=t[10]:(l=c(`w-full px-3 py-2 bg-theme-bg border-2 border-black text-theme-color focus:outline-none focus:shadow-[4px_4px_0px_0px_var(--theme-accent)] focus:border-theme-accent transition-all duration-200 placeholder:text-secondary/40 font-bold`,n),t[9]=n,t[10]=l);let u;t[11]!==a||t[12]!==l?(u=(0,d.jsx)(`input`,{className:l,autoComplete:`off`,...a}),t[11]=a,t[12]=l,t[13]=u):u=t[13];let f;return t[14]!==o||t[15]!==s||t[16]!==u?(f=(0,d.jsxs)(`div`,{className:o,children:[s,u]}),t[14]=o,t[15]=s,t[16]=u,t[17]=f):f=t[17],f},ee=e=>{let t=(0,_.c)(20),{selectedSector:n,onSectorChange:r}=e,i;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,d.jsx)(`span`,{className:`text-xs font-bold uppercase text-secondary mr-2`,children:`Sector:`}),t[0]=i):i=t[0];let a=n===`general`,o;t[1]===r?o=t[2]:(o=()=>r(`general`),t[1]=r,t[2]=o);let s;t[3]!==a||t[4]!==o?(s=(0,d.jsx)(`input`,{type:`radio`,name:`sector_type`,value:`general`,checked:a,onChange:o,className:`accent-theme-color w-4 h-4 cursor-pointer`}),t[3]=a,t[4]=o,t[5]=s):s=t[5];let c;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,d.jsx)(`span`,{className:`text-sm font-bold text-theme-color select-none`,children:`General`}),t[6]=c):c=t[6];let l;t[7]===s?l=t[8]:(l=(0,d.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity`,children:[s,c]}),t[7]=s,t[8]=l);let u=n===`transport`,f;t[9]===r?f=t[10]:(f=()=>r(`transport`),t[9]=r,t[10]=f);let p;t[11]!==u||t[12]!==f?(p=(0,d.jsx)(`input`,{type:`radio`,name:`sector_type`,value:`transport`,checked:u,onChange:f,className:`accent-theme-color w-4 h-4 cursor-pointer`}),t[11]=u,t[12]=f,t[13]=p):p=t[13];let m;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(m=(0,d.jsx)(`span`,{className:`text-sm font-bold text-theme-color select-none`,children:`Transporte`}),t[14]=m):m=t[14];let h;t[15]===p?h=t[16]:(h=(0,d.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity`,children:[p,m]}),t[15]=p,t[16]=h);let g;return t[17]!==h||t[18]!==l?(g=(0,d.jsxs)(`nav`,{className:`flex items-center gap-4 bg-white/50 px-3 py-1 rounded-sm border border-black/20`,children:[i,l,h]}),t[17]=h,t[18]=l,t[19]=g):g=t[19],g};const b=t=>{let n=(0,_.c)(85),{formData:i,onChange:o,setFormData:s}=t,{userProfile:u}=l(),[p,m]=(0,h.useState)(!1),b=i.ramo||i.origen||i.destino||u?.sector===`Transporte`?`transport`:`general`,[x,ne]=(0,h.useState)(b),S,C;n[0]===b?(S=n[1],C=n[2]):(S=()=>{ne(b)},C=[b],n[0]=b,n[1]=S,n[2]=C),(0,h.useEffect)(S,C);let w;n[3]===s?w=n[4]:(w=e=>{e&&s&&(s(t=>({...t,dia:a(e,`dd`),mes:a(e,`MM`),anio:a(e,`yyyy`)})),m(!1))},n[3]=s,n[4]=w);let T=w,E;n[5]!==i.anio||n[6]!==i.dia||n[7]!==i.mes?(E=()=>{if(i.dia&&i.mes&&i.anio)return new Date(Number(i.anio),Number(i.mes)-1,Number(i.dia))},n[5]=i.anio,n[6]=i.dia,n[7]=i.mes,n[8]=E):E=n[8];let re=E,D;n[9]!==i.anio||n[10]!==i.dia||n[11]!==i.mes?(D=i.dia&&i.mes&&i.anio?a(new Date(Number(i.anio),Number(i.mes)-1,Number(i.dia)),`PPP`,{locale:r}):`Selecciona una fecha`,n[9]=i.anio,n[10]=i.dia,n[11]=i.mes,n[12]=D):D=n[12];let O=D,k;n[13]===Symbol.for(`react.memo_cache_sentinel`)?(k=(0,d.jsxs)(`div`,{className:`text-center mb-8 border-b-4 border-black pb-4`,children:[(0,d.jsx)(`h2`,{className:`text-3xl font-black uppercase text-theme-color drop-shadow-sm`,children:`Registro de Horas`}),(0,d.jsx)(`p`,{className:`text-secondary font-bold font-mono text-sm mt-2`,children:`Rellena todos los campos requeridos`})]}),n[13]=k):k=n[13];let A;n[14]!==i.empresa||n[15]!==o?(A=(0,d.jsx)(y,{label:`Empresa`,name:`empresa`,value:i.empresa,onChange:o,placeholder:`Nombre de la empresa`,containerClassName:`col-span-1 md:col-span-2 lg:col-span-3`}),n[14]=i.empresa,n[15]=o,n[16]=A):A=n[16];let j;n[17]!==i.numero_empleado||n[18]!==o?(j=(0,d.jsx)(y,{label:`No. Empleado`,name:`numero_empleado`,value:i.numero_empleado,onChange:o,placeholder:`000000`}),n[17]=i.numero_empleado,n[18]=o,n[19]=j):j=n[19];let M;n[20]!==i.nombre||n[21]!==o?(M=(0,d.jsx)(y,{label:`Nombre`,name:`nombre`,value:i.nombre,onChange:o,placeholder:`Tu nombre`}),n[20]=i.nombre,n[21]=o,n[22]=M):M=n[22];let N;n[23]!==i.apellido_paterno||n[24]!==o?(N=(0,d.jsx)(y,{label:`Apellido Paterno`,name:`apellido_paterno`,value:i.apellido_paterno,onChange:o,placeholder:`Apellido Paterno`}),n[23]=i.apellido_paterno,n[24]=o,n[25]=N):N=n[25];let P;n[26]!==i.apellido_materno||n[27]!==o?(P=(0,d.jsx)(y,{label:`Apellido Materno`,name:`apellido_materno`,value:i.apellido_materno,onChange:o,placeholder:`Apellido Materno`}),n[26]=i.apellido_materno,n[27]=o,n[28]=P):P=n[28];let F;n[29]!==i.telefono||n[30]!==o?(F=(0,d.jsx)(y,{label:`Teléfono`,name:`telefono`,value:i.telefono,onChange:o,placeholder:`555-555-5555`,type:`tel`}),n[29]=i.telefono,n[30]=o,n[31]=F):F=n[31];let I;n[32]!==N||n[33]!==P||n[34]!==F||n[35]!==A||n[36]!==j||n[37]!==M?(I=(0,d.jsxs)(v,{label:`Información Personal`,children:[A,j,M,N,P,F]}),n[32]=N,n[33]=P,n[34]=F,n[35]=A,n[36]=j,n[37]=M,n[38]=I):I=n[38];let L;n[39]===Symbol.for(`react.memo_cache_sentinel`)?(L=(0,d.jsx)(`label`,{className:`text-xs font-bold text-secondary uppercase tracking-wider ml-1 mb-1 block`,children:`Seleccionar Fecha`}),n[39]=L):L=n[39];let R=p?`shadow-[4px_4px_0px_0px_var(--theme-accent)] border-theme-accent`:``,z;n[40]===R?z=n[41]:(z=c(`w-full px-3 py-2 bg-theme-bg border-2 border-black text-theme-color cursor-pointer flex items-center justify-between transition-all duration-200 font-bold hover:bg-theme-secondary/10`,R),n[40]=R,n[41]=z);let B=i.dia?``:`text-secondary/60`,V;n[42]!==O||n[43]!==B?(V=(0,d.jsx)(`span`,{className:B,children:O}),n[42]=O,n[43]=B,n[44]=V):V=n[44];let H;n[45]===Symbol.for(`react.memo_cache_sentinel`)?(H=(0,d.jsx)(e,{className:`text-secondary`}),n[45]=H):H=n[45];let U;n[46]!==z||n[47]!==V?(U=(0,d.jsxs)(`div`,{className:z,children:[V,H]}),n[46]=z,n[47]=V,n[48]=U):U=n[48];let W;n[49]===re?W=n[50]:(W=re(),n[49]=re,n[50]=W);let G;n[51]!==T||n[52]!==W?(G=(0,d.jsx)(f,{mode:`single`,selected:W,onSelect:T,initialFocus:!0}),n[51]=T,n[52]=W,n[53]=G):G=n[53];let K;n[54]!==p||n[55]!==U||n[56]!==G?(K=(0,d.jsx)(v,{label:`Fecha del Registro`,className:`relative z-10`,children:(0,d.jsxs)(`div`,{className:`col-span-1 md:col-span-2 lg:col-span-3`,children:[L,(0,d.jsx)(g,{isOpen:p,onOpenChange:m,trigger:U,content:G})]})}),n[54]=p,n[55]=U,n[56]=G,n[57]=K):K=n[57];let q;n[58]===x?q=n[59]:(q=(0,d.jsx)(ee,{selectedSector:x,onSectorChange:ne}),n[58]=x,n[59]=q);let J;n[60]!==i.hora_entrada||n[61]!==o?(J=(0,d.jsx)(y,{label:`Hora Entrada`,name:`hora_entrada`,value:i.hora_entrada,onChange:o,type:`time`}),n[60]=i.hora_entrada,n[61]=o,n[62]=J):J=n[62];let Y;n[63]!==i.hora_salida||n[64]!==o?(Y=(0,d.jsx)(y,{label:`Hora Salida`,name:`hora_salida`,value:i.hora_salida,onChange:o,type:`time`}),n[63]=i.hora_salida,n[64]=o,n[65]=Y):Y=n[65];let X;n[66]!==i.total_horas||n[67]!==o?(X=(0,d.jsx)(y,{label:`Total Horas`,name:`total_horas`,value:i.total_horas,onChange:o,placeholder:`0`,type:`number`,readOnly:!0}),n[66]=i.total_horas,n[67]=o,n[68]=X):X=n[68];let Z;n[69]!==i.destino||n[70]!==i.origen||n[71]!==i.ramo||n[72]!==o||n[73]!==x?(Z=x===`transport`&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(y,{label:`Ramo`,name:`ramo`,value:i.ramo||``,onChange:o,placeholder:`Ej: Transporte de mercancías`,containerClassName:`col-span-1 md:col-span-1 lg:col-span-3`}),(0,d.jsx)(y,{label:`Origen`,name:`origen`,value:i.origen,onChange:o,placeholder:`Lugar de origen`,containerClassName:`col-span-1 md:col-span-1 lg:col-span-1`}),(0,d.jsx)(y,{label:`Destino`,name:`destino`,value:i.destino,onChange:o,placeholder:`Lugar de destino`,containerClassName:`col-span-1 md:col-span-1 lg:col-span-2`})]}),n[69]=i.destino,n[70]=i.origen,n[71]=i.ramo,n[72]=o,n[73]=x,n[74]=Z):Z=n[74];let Q;n[75]!==q||n[76]!==J||n[77]!==Y||n[78]!==X||n[79]!==Z?(Q=(0,d.jsxs)(v,{label:`Detalles del Servicio`,headerActions:q,children:[J,Y,X,Z]}),n[75]=q,n[76]=J,n[77]=Y,n[78]=X,n[79]=Z,n[80]=Q):Q=n[80];let $;return n[81]!==I||n[82]!==K||n[83]!==Q?($=(0,d.jsxs)(`div`,{className:`w-full max-w-4xl mx-auto p-4 md:p-8 bg-header-bg border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] space-y-6`,children:[k,(0,d.jsxs)(`form`,{className:`space-y-6`,onSubmit:te,children:[I,K,Q]})]}),n[81]=I,n[82]=K,n[83]=Q,n[84]=$):$=n[84],$};function te(e){return e.preventDefault()}export{b as t};