import{D as e,Z as t,g as n,h as r,i,lt as a,m as o,n as s,p as c,r as l,st as u,t as d}from"./vendor-CuWPEnc8.js";import{a as f}from"./Main-DL6zrC2b.js";import{t as p}from"./useUserProfile-DFpMGjVi.js";var m=u(),h=t(),g=`h-8 w-8 bg-transparent p-0 flex items-center justify-center border-2 border-black transition-all hover:bg-black hover:text-white text-theme-color`,_=e=>{let t=(0,m.c)(45),{calendarMonth:i}=e,{goToMonth:a,nextMonth:l,previousMonth:u}=s(),d=i.date,p;t[0]!==d||t[1]!==a?(p=e=>{let t=new Date(d);t.setFullYear(t.getFullYear()+e),a(t)},t[0]=d,t[1]=a,t[2]=p):p=t[2];let _=p,v;t[3]!==a||t[4]!==l||t[5]!==u?(v=e=>{e<0&&u&&a(u),e>0&&l&&a(l)},t[3]=a,t[4]=l,t[5]=u,t[6]=v):v=t[6];let y=v,b;t[7]===d?b=t[8]:(b=d.toLocaleDateString(`es`,{month:`long`,year:`numeric`}),t[7]=d,t[8]=b);let x;t[9]===b?x=t[10]:(x=(0,h.jsx)(`div`,{className:`text-xl font-black tracking-wider text-theme-color uppercase`,children:b}),t[9]=b,t[10]=x);let S;t[11]===_?S=t[12]:(S=()=>_(-1),t[11]=_,t[12]=S);let C;t[13]===Symbol.for(`react.memo_cache_sentinel`)?(C=f(g,`disabled:opacity-40 disabled:cursor-not-allowed`),t[13]=C):C=t[13];let w;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(w=(0,h.jsx)(o,{className:`h-4 w-4`}),t[14]=w):w=t[14];let T;t[15]===S?T=t[16]:(T=(0,h.jsx)(`button`,{type:`button`,onClick:S,className:C,"aria-label":`Año anterior`,children:w}),t[15]=S,t[16]=T);let E;t[17]===y?E=t[18]:(E=()=>y(-1),t[17]=y,t[18]=E);let D;t[19]===Symbol.for(`react.memo_cache_sentinel`)?(D=f(g,`disabled:opacity-40 disabled:cursor-not-allowed`),t[19]=D):D=t[19];let ee=!u,O;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(O=(0,h.jsx)(n,{className:`h-4 w-4`}),t[20]=O):O=t[20];let k;t[21]!==ee||t[22]!==E?(k=(0,h.jsx)(`button`,{type:`button`,onClick:E,className:D,"aria-label":`Mes anterior`,disabled:ee,children:O}),t[21]=ee,t[22]=E,t[23]=k):k=t[23];let A;t[24]===y?A=t[25]:(A=()=>y(1),t[24]=y,t[25]=A);let j;t[26]===Symbol.for(`react.memo_cache_sentinel`)?(j=f(g,`disabled:opacity-40 disabled:cursor-not-allowed`),t[26]=j):j=t[26];let M=!l,N;t[27]===Symbol.for(`react.memo_cache_sentinel`)?(N=(0,h.jsx)(r,{className:`h-4 w-4`}),t[27]=N):N=t[27];let P;t[28]!==A||t[29]!==M?(P=(0,h.jsx)(`button`,{type:`button`,onClick:A,className:j,"aria-label":`Mes siguiente`,disabled:M,children:N}),t[28]=A,t[29]=M,t[30]=P):P=t[30];let F;t[31]===_?F=t[32]:(F=()=>_(1),t[31]=_,t[32]=F);let I;t[33]===Symbol.for(`react.memo_cache_sentinel`)?(I=f(g,`disabled:opacity-40 disabled:cursor-not-allowed`),t[33]=I):I=t[33];let L;t[34]===Symbol.for(`react.memo_cache_sentinel`)?(L=(0,h.jsx)(c,{className:`h-4 w-4`}),t[34]=L):L=t[34];let R;t[35]===F?R=t[36]:(R=(0,h.jsx)(`button`,{type:`button`,onClick:F,className:I,"aria-label":`Año siguiente`,children:L}),t[35]=F,t[36]=R);let z;t[37]!==k||t[38]!==P||t[39]!==R||t[40]!==T?(z=(0,h.jsxs)(`div`,{className:`flex items-center gap-1`,children:[T,k,P,R]}),t[37]=k,t[38]=P,t[39]=R,t[40]=T,t[41]=z):z=t[41];let B;return t[42]!==z||t[43]!==x?(B=(0,h.jsxs)(`div`,{className:`flex flex-col items-center justify-center gap-2 mb-4 relative w-full pt-2`,children:[x,z]}),t[42]=z,t[43]=x,t[44]=B):B=t[44],B};const v=e=>{let t=(0,m.c)(16),n,r,i,a;t[0]===e?(n=t[1],r=t[2],i=t[3],a=t[4]):({className:n,classNames:r,showOutsideDays:a,...i}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a);let o=a===void 0?!0:a,s;t[5]===n?s=t[6]:(s=f(`p-3 border-4 border-black bg-theme-bg shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]`,n),t[5]=n,t[6]=s);let c;t[7]===Symbol.for(`react.memo_cache_sentinel`)?(c=f(`h-9 w-9 p-0 font-bold aria-selected:opacity-100 hover:bg-black hover:text-white border-2 border-transparent transition-all flex items-center justify-center`),t[7]=c):c=t[7];let u;t[8]===r?u=t[9]:(u={months:`flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0 text-theme-color`,month:`space-y-4`,caption_label:`hidden`,nav:`hidden`,month_grid:`w-full border-collapse space-y-1`,weekdays:`flex`,weekday:`text-secondary rounded-md w-9 font-normal text-[0.8rem] uppercase`,week:`flex w-full mt-2`,day:c,range_end:`day-range-end`,selected:`bg-theme-accent text-white hover:bg-theme-accent hover:text-white focus:bg-theme-accent focus:text-white border-2 border-black`,today:`bg-theme-secondary/20 text-theme-color border-2 border-theme-secondary text-accent-foreground`,outside:`day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30`,disabled:`text-muted-foreground opacity-50`,range_middle:`aria-selected:bg-accent aria-selected:text-accent-foreground`,hidden:`invisible`,...r},t[8]=r,t[9]=u);let p;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(p={MonthCaption:_,Nav:y},t[10]=p):p=t[10];let g;return t[11]!==i||t[12]!==o||t[13]!==s||t[14]!==u?(g=(0,h.jsx)(d,{locale:l,showOutsideDays:o,className:s,classNames:u,components:p,...i}),t[11]=i,t[12]=o,t[13]=s,t[14]=u,t[15]=g):g=t[15],g};function y(){return(0,h.jsx)(h.Fragment,{})}var b=u(),x=a();const S=e=>{let t=(0,b.c)(17),{trigger:n,content:r,className:i,isOpen:a,onOpenChange:o}=e,s=(0,x.useRef)(null),c,l;t[0]!==a||t[1]!==o?(c=()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&o(!1)};return a&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},l=[a,o],t[0]=a,t[1]=o,t[2]=c,t[3]=l):(c=t[2],l=t[3]),(0,x.useEffect)(c,l);let u;t[4]!==a||t[5]!==o?(u=()=>o(!a),t[4]=a,t[5]=o,t[6]=u):u=t[6];let d;t[7]!==u||t[8]!==n?(d=(0,h.jsx)(`div`,{onClick:u,children:n}),t[7]=u,t[8]=n,t[9]=d):d=t[9];let p;t[10]!==i||t[11]!==r||t[12]!==a?(p=a&&(0,h.jsx)(`div`,{className:f(`absolute z-50 mt-2 bg-theme-bg shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] border-4 border-black animate-in fade-in zoom-in-95 duration-200`,i),children:r}),t[10]=i,t[11]=r,t[12]=a,t[13]=p):p=t[13];let m;return t[14]!==d||t[15]!==p?(m=(0,h.jsxs)(`div`,{className:`relative inline-block w-full`,ref:s,children:[d,p]}),t[14]=d,t[15]=p,t[16]=m):m=t[16],m};var C=u(),w=e=>{let t=(0,C.c)(15),{label:n,children:r,className:i,headerActions:a}=e,o;t[0]===i?o=t[1]:(o=f(`flex flex-col gap-2 p-4 border-2 border-black bg-white/50`,i),t[0]=i,t[1]=o);let s;t[2]===n?s=t[3]:(s=(0,h.jsx)(`h3`,{className:`text-lg font-black uppercase italic text-theme-color`,children:n}),t[2]=n,t[3]=s);let c;t[4]===a?c=t[5]:(c=a&&(0,h.jsx)(`div`,{className:`flex items-center`,children:a}),t[4]=a,t[5]=c);let l;t[6]!==s||t[7]!==c?(l=(0,h.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center border-b-2 border-black pb-1 mb-2 gap-2`,children:[s,c]}),t[6]=s,t[7]=c,t[8]=l):l=t[8];let u;t[9]===r?u=t[10]:(u=(0,h.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:r}),t[9]=r,t[10]=u);let d;return t[11]!==o||t[12]!==l||t[13]!==u?(d=(0,h.jsxs)(`div`,{className:o,children:[l,u]}),t[11]=o,t[12]=l,t[13]=u,t[14]=d):d=t[14],d},T=e=>{let t=(0,C.c)(18),n,r,i,a;t[0]===e?(n=t[1],r=t[2],i=t[3],a=t[4]):({label:i,className:n,containerClassName:r,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a);let o;t[5]===r?o=t[6]:(o=f(`flex flex-col gap-1`,r),t[5]=r,t[6]=o);let s;t[7]===i?s=t[8]:(s=(0,h.jsx)(`label`,{className:`text-xs font-bold text-secondary uppercase tracking-wider ml-1`,children:i}),t[7]=i,t[8]=s);let c;t[9]===n?c=t[10]:(c=f(`w-full px-3 py-2 bg-theme-bg border-2 border-black text-theme-color focus:outline-none focus:shadow-[4px_4px_0px_0px_var(--theme-accent)] focus:border-theme-accent transition-all duration-200 placeholder:text-secondary/40 font-bold`,n),t[9]=n,t[10]=c);let l;t[11]!==a||t[12]!==c?(l=(0,h.jsx)(`input`,{className:c,autoComplete:`off`,...a}),t[11]=a,t[12]=c,t[13]=l):l=t[13];let u;return t[14]!==o||t[15]!==s||t[16]!==l?(u=(0,h.jsxs)(`div`,{className:o,children:[s,l]}),t[14]=o,t[15]=s,t[16]=l,t[17]=u):u=t[17],u},E=e=>{let t=(0,C.c)(20),{selectedSector:n,onSectorChange:r}=e,i;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,h.jsx)(`span`,{className:`text-xs font-bold uppercase text-secondary mr-2`,children:`Sector:`}),t[0]=i):i=t[0];let a=n===`general`,o;t[1]===r?o=t[2]:(o=()=>r(`general`),t[1]=r,t[2]=o);let s;t[3]!==a||t[4]!==o?(s=(0,h.jsx)(`input`,{type:`radio`,name:`sector_type`,value:`general`,checked:a,onChange:o,className:`accent-theme-color w-4 h-4 cursor-pointer`}),t[3]=a,t[4]=o,t[5]=s):s=t[5];let c;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,h.jsx)(`span`,{className:`text-sm font-bold text-theme-color select-none`,children:`General`}),t[6]=c):c=t[6];let l;t[7]===s?l=t[8]:(l=(0,h.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity`,children:[s,c]}),t[7]=s,t[8]=l);let u=n===`transport`,d;t[9]===r?d=t[10]:(d=()=>r(`transport`),t[9]=r,t[10]=d);let f;t[11]!==u||t[12]!==d?(f=(0,h.jsx)(`input`,{type:`radio`,name:`sector_type`,value:`transport`,checked:u,onChange:d,className:`accent-theme-color w-4 h-4 cursor-pointer`}),t[11]=u,t[12]=d,t[13]=f):f=t[13];let p;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(p=(0,h.jsx)(`span`,{className:`text-sm font-bold text-theme-color select-none`,children:`Transporte`}),t[14]=p):p=t[14];let m;t[15]===f?m=t[16]:(m=(0,h.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity`,children:[f,p]}),t[15]=f,t[16]=m);let g;return t[17]!==m||t[18]!==l?(g=(0,h.jsxs)(`nav`,{className:`flex items-center gap-4 bg-white/50 px-3 py-1 rounded-sm border border-black/20`,children:[i,l,m]}),t[17]=m,t[18]=l,t[19]=g):g=t[19],g};const D=t=>{let n=(0,C.c)(84),{formData:r,onChange:a,setFormData:o}=t,{userProfile:s}=p(),[c,u]=(0,x.useState)(!1),d=r.origen||r.destino||s?.sector===`Transporte`?`transport`:`general`,[m,g]=(0,x.useState)(d),_,y;n[0]===d?(_=n[1],y=n[2]):(_=()=>{g(d)},y=[d],n[0]=d,n[1]=_,n[2]=y),(0,x.useEffect)(_,y);let b;n[3]===o?b=n[4]:(b=e=>{e&&o&&(o(t=>({...t,dia:i(e,`dd`),mes:i(e,`MM`),anio:i(e,`yyyy`)})),u(!1))},n[3]=o,n[4]=b);let D=b,O;n[5]!==r.anio||n[6]!==r.dia||n[7]!==r.mes?(O=()=>{if(r.dia&&r.mes&&r.anio)return new Date(Number(r.anio),Number(r.mes)-1,Number(r.dia))},n[5]=r.anio,n[6]=r.dia,n[7]=r.mes,n[8]=O):O=n[8];let k=O,A;n[9]!==r.anio||n[10]!==r.dia||n[11]!==r.mes?(A=r.dia&&r.mes&&r.anio?i(new Date(Number(r.anio),Number(r.mes)-1,Number(r.dia)),`PPP`,{locale:l}):`Selecciona una fecha`,n[9]=r.anio,n[10]=r.dia,n[11]=r.mes,n[12]=A):A=n[12];let j=A,M;n[13]===Symbol.for(`react.memo_cache_sentinel`)?(M=(0,h.jsxs)(`div`,{className:`text-center mb-8 border-b-4 border-black pb-4`,children:[(0,h.jsx)(`h2`,{className:`text-3xl font-black uppercase text-theme-color drop-shadow-sm`,children:`Registro de Horas`}),(0,h.jsx)(`p`,{className:`text-secondary font-bold font-mono text-sm mt-2`,children:`Rellena todos los campos requeridos`})]}),n[13]=M):M=n[13];let N;n[14]!==r.empresa||n[15]!==a?(N=(0,h.jsx)(T,{label:`Empresa`,name:`empresa`,value:r.empresa,onChange:a,placeholder:`Nombre de la empresa`,containerClassName:`col-span-1 md:col-span-2 lg:col-span-3`}),n[14]=r.empresa,n[15]=a,n[16]=N):N=n[16];let P;n[17]!==r.numero_empleado||n[18]!==a?(P=(0,h.jsx)(T,{label:`No. Empleado`,name:`numero_empleado`,value:r.numero_empleado,onChange:a,placeholder:`000000`}),n[17]=r.numero_empleado,n[18]=a,n[19]=P):P=n[19];let F;n[20]!==r.nombre||n[21]!==a?(F=(0,h.jsx)(T,{label:`Nombre`,name:`nombre`,value:r.nombre,onChange:a,placeholder:`Tu nombre`}),n[20]=r.nombre,n[21]=a,n[22]=F):F=n[22];let I;n[23]!==r.apellido_paterno||n[24]!==a?(I=(0,h.jsx)(T,{label:`Apellido Paterno`,name:`apellido_paterno`,value:r.apellido_paterno,onChange:a,placeholder:`Apellido Paterno`}),n[23]=r.apellido_paterno,n[24]=a,n[25]=I):I=n[25];let L;n[26]!==r.apellido_materno||n[27]!==a?(L=(0,h.jsx)(T,{label:`Apellido Materno`,name:`apellido_materno`,value:r.apellido_materno,onChange:a,placeholder:`Apellido Materno`}),n[26]=r.apellido_materno,n[27]=a,n[28]=L):L=n[28];let R;n[29]!==r.telefono||n[30]!==a?(R=(0,h.jsx)(T,{label:`Teléfono`,name:`telefono`,value:r.telefono,onChange:a,placeholder:`555-555-5555`,type:`tel`}),n[29]=r.telefono,n[30]=a,n[31]=R):R=n[31];let z;n[32]!==I||n[33]!==L||n[34]!==R||n[35]!==N||n[36]!==P||n[37]!==F?(z=(0,h.jsxs)(w,{label:`Información Personal`,children:[N,P,F,I,L,R]}),n[32]=I,n[33]=L,n[34]=R,n[35]=N,n[36]=P,n[37]=F,n[38]=z):z=n[38];let B;n[39]===Symbol.for(`react.memo_cache_sentinel`)?(B=(0,h.jsx)(`label`,{className:`text-xs font-bold text-secondary uppercase tracking-wider ml-1 mb-1 block`,children:`Seleccionar Fecha`}),n[39]=B):B=n[39];let te=c?`shadow-[4px_4px_0px_0px_var(--theme-accent)] border-theme-accent`:``,V;n[40]===te?V=n[41]:(V=f(`w-full px-3 py-2 bg-theme-bg border-2 border-black text-theme-color cursor-pointer flex items-center justify-between transition-all duration-200 font-bold hover:bg-theme-secondary/10`,te),n[40]=te,n[41]=V);let ne=r.dia?``:`text-secondary/60`,H;n[42]!==j||n[43]!==ne?(H=(0,h.jsx)(`span`,{className:ne,children:j}),n[42]=j,n[43]=ne,n[44]=H):H=n[44];let U;n[45]===Symbol.for(`react.memo_cache_sentinel`)?(U=(0,h.jsx)(e,{className:`text-secondary`}),n[45]=U):U=n[45];let W;n[46]!==V||n[47]!==H?(W=(0,h.jsxs)(`div`,{className:V,children:[H,U]}),n[46]=V,n[47]=H,n[48]=W):W=n[48];let G;n[49]===k?G=n[50]:(G=k(),n[49]=k,n[50]=G);let K;n[51]!==D||n[52]!==G?(K=(0,h.jsx)(v,{mode:`single`,selected:G,onSelect:D,initialFocus:!0}),n[51]=D,n[52]=G,n[53]=K):K=n[53];let q;n[54]!==c||n[55]!==W||n[56]!==K?(q=(0,h.jsx)(w,{label:`Fecha del Registro`,className:`relative z-10`,children:(0,h.jsxs)(`div`,{className:`col-span-1 md:col-span-2 lg:col-span-3`,children:[B,(0,h.jsx)(S,{isOpen:c,onOpenChange:u,trigger:W,content:K})]})}),n[54]=c,n[55]=W,n[56]=K,n[57]=q):q=n[57];let J;n[58]===m?J=n[59]:(J=(0,h.jsx)(E,{selectedSector:m,onSectorChange:g}),n[58]=m,n[59]=J);let Y;n[60]!==r.hora_entrada||n[61]!==a?(Y=(0,h.jsx)(T,{label:`Hora Entrada`,name:`hora_entrada`,value:r.hora_entrada,onChange:a,type:`time`}),n[60]=r.hora_entrada,n[61]=a,n[62]=Y):Y=n[62];let X;n[63]!==r.hora_salida||n[64]!==a?(X=(0,h.jsx)(T,{label:`Hora Salida`,name:`hora_salida`,value:r.hora_salida,onChange:a,type:`time`}),n[63]=r.hora_salida,n[64]=a,n[65]=X):X=n[65];let Z;n[66]!==r.total_horas||n[67]!==a?(Z=(0,h.jsx)(T,{label:`Total Horas`,name:`total_horas`,value:r.total_horas,onChange:a,placeholder:`0`,type:`number`,readOnly:!0}),n[66]=r.total_horas,n[67]=a,n[68]=Z):Z=n[68];let Q;n[69]!==r.destino||n[70]!==r.origen||n[71]!==a||n[72]!==m?(Q=m===`transport`&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(T,{label:`Origen`,name:`origen`,value:r.origen,onChange:a,containerClassName:`col-span-1 md:col-span-1 lg:col-span-1`}),(0,h.jsx)(T,{label:`Destino`,name:`destino`,value:r.destino,onChange:a,containerClassName:`col-span-1 md:col-span-1 lg:col-span-2`})]}),n[69]=r.destino,n[70]=r.origen,n[71]=a,n[72]=m,n[73]=Q):Q=n[73];let $;n[74]!==J||n[75]!==Y||n[76]!==X||n[77]!==Z||n[78]!==Q?($=(0,h.jsxs)(w,{label:`Detalles del Servicio`,headerActions:J,children:[Y,X,Z,Q]}),n[74]=J,n[75]=Y,n[76]=X,n[77]=Z,n[78]=Q,n[79]=$):$=n[79];let re;return n[80]!==z||n[81]!==q||n[82]!==$?(re=(0,h.jsxs)(`div`,{className:`w-full max-w-4xl mx-auto p-4 md:p-8 bg-header-bg border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] space-y-6`,children:[M,(0,h.jsxs)(`form`,{className:`space-y-6`,onSubmit:ee,children:[z,q,$]})]}),n[80]=z,n[81]=q,n[82]=$,n[83]=re):re=n[83],re};function ee(e){return e.preventDefault()}export{D as t};