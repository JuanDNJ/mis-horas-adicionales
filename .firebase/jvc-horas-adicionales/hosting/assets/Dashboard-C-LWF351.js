import{A as e,E as t,F as n,I as r,U as i,W as a,at as o,q as s,rt as c}from"./vendor-5br9Pmv5.js";import{a as l,i as u,n as d,t as f}from"./Main-uK7Yr_lq.js";import{t as p}from"./useUserProfile-CYApFkuB.js";import{t as m}from"./HoursForm-BweZhn07.js";var h=o(),g=c(),_=s();const v=e=>{let t=(0,g.c)(24),{data:r,onDelete:i,onEdit:o}=e;if(r.length===0){let e;return t[0]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,_.jsx)(`div`,{className:`w-full text-center p-8 border-4 border-black border-dashed bg-white/30 rounded-sm`,children:(0,_.jsx)(`p`,{className:`text-xl font-bold text-secondary uppercase`,children:`No hay registros aún`})}),t[0]=e):e=t[0],e}let s;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,_.jsx)(`h2`,{className:`text-2xl font-black uppercase text-theme-color mb-4 drop-shadow-sm border-b-4 border-black inline-block pr-8`,children:`Registros Guardados`}),t[1]=s):s=t[1];let c;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,_.jsx)(`thead`,{children:(0,_.jsxs)(`tr`,{className:`bg-theme-header-bg border-b-4 border-black text-theme-color uppercase tracking-wider text-sm`,children:[(0,_.jsx)(`th`,{className:`p-4 border-r-2 border-black font-black`,children:`Fecha`}),(0,_.jsx)(`th`,{className:`p-4 border-r-2 border-black font-black hidden lg:table-cell`,children:`Horario`}),(0,_.jsx)(`th`,{className:`p-4 border-r-2 border-black font-black`,children:`Total`}),(0,_.jsx)(`th`,{className:`p-4 border-r-2 border-black font-black hidden xl:table-cell`,children:`Ruta`}),(0,_.jsx)(`th`,{className:`p-4 border-r-2 border-black font-black hidden 2xl:table-cell`,children:`Empleado`}),(0,_.jsx)(`th`,{className:`p-4 border-black font-black text-center`,children:`Acciones`})]})}),t[2]=c):c=t[2];let l;if(t[3]!==r||t[4]!==i||t[5]!==o){let e;t[7]!==i||t[8]!==o?(e=(e,t)=>(0,_.jsxs)(`tr`,{className:`border-b-2 border-black last:border-b-0 hover:bg-theme-accent/20 transition-colors duration-150 font-bold text-theme-secondary`,children:[(0,_.jsxs)(`td`,{className:`p-4 border-r-2 border-black`,children:[e.dia,`/`,e.mes,`/`,e.anio]}),(0,_.jsxs)(`td`,{className:`p-4 border-r-2 border-black whitespace-nowrap hidden lg:table-cell`,children:[e.hora_entrada,` - `,e.hora_salida]}),(0,_.jsxs)(`td`,{className:`p-4 border-r-2 border-black bg-theme-accent/10 text-theme-color`,children:[e.total_horas,`h`]}),(0,_.jsx)(`td`,{className:`p-4 border-r-2 border-black max-w-50 truncate hidden xl:table-cell`,title:`${e.origen} -> ${e.destino}`,children:e.origen&&e.destino?(0,_.jsxs)(_.Fragment,{children:[e.origen,` → `,e.destino]}):(0,_.jsx)(`span`,{className:`opacity-50 italic`,children:`N/A`})}),(0,_.jsxs)(`td`,{className:`p-4 border-r-2 border-black hidden 2xl:table-cell`,children:[e.nombre,` `,e.apellido_paterno,(0,_.jsx)(`div`,{className:`text-xs opacity-60 font-mono`,children:e.numero_empleado})]}),(0,_.jsx)(`td`,{className:`p-4 text-center`,children:(0,_.jsxs)(`div`,{className:`flex items-center justify-center gap-2`,children:[(0,_.jsx)(`button`,{onClick:()=>o(t),className:`p-2 bg-theme-accent hover:brightness-110 border-2 border-black text-white shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-0.5 active:translate-y-0.5 transition-all`,title:`Editar registro`,children:(0,_.jsx)(n,{size:18})}),(0,_.jsx)(`button`,{onClick:()=>i(t),className:`p-2 bg-action-delete hover:brightness-110 border-2 border-black text-white shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-0.5 active:translate-y-0.5 transition-all`,title:`Eliminar registro`,children:(0,_.jsx)(a,{size:18})})]})})]},t),t[7]=i,t[8]=o,t[9]=e):e=t[9],l=r.map(e),t[3]=r,t[4]=i,t[5]=o,t[6]=l}else l=t[6];let u;t[10]===l?u=t[11]:(u=(0,_.jsx)(`div`,{className:`hidden md:block overflow-x-auto border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]`,children:(0,_.jsxs)(`table`,{className:`w-full bg-theme-bg text-left border-collapse`,children:[c,(0,_.jsx)(`tbody`,{children:l})]})}),t[10]=l,t[11]=u);let d;if(t[12]!==r||t[13]!==i||t[14]!==o){let e;t[16]!==i||t[17]!==o?(e=(e,t)=>(0,_.jsxs)(`div`,{className:`border-4 border-black bg-theme-bg p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] relative flex flex-col gap-2`,children:[(0,_.jsxs)(`div`,{className:`absolute top-2 right-2 flex gap-2`,children:[(0,_.jsx)(`button`,{onClick:()=>o(t),className:`p-2 bg-theme-accent hover:brightness-110 border-2 border-black text-white shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:translate-x-0.5 active:translate-y-0.5 active:shadow-none transition-all`,children:(0,_.jsx)(n,{size:14})}),(0,_.jsx)(`button`,{onClick:()=>i(t),className:`p-2 bg-action-delete hover:brightness-110 border-2 border-black text-white shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] active:translate-x-0.5 active:translate-y-0.5 active:shadow-none transition-all`,children:(0,_.jsx)(a,{size:16})})]}),(0,_.jsx)(`div`,{className:`border-b-2 border-black pb-2 mb-2`,children:(0,_.jsxs)(`span`,{className:`bg-theme-header-bg px-2 py-1 border-2 border-black text-xs font-bold uppercase tracking-widest`,children:[e.dia,`/`,e.mes,`/`,e.anio]})}),(0,_.jsxs)(`div`,{className:`flex justify-between items-center text-theme-color font-bold`,children:[(0,_.jsxs)(`div`,{className:`flex flex-col`,children:[(0,_.jsx)(`span`,{className:`text-xs text-secondary uppercase`,children:`Horario`}),(0,_.jsxs)(`span`,{children:[e.hora_entrada,` - `,e.hora_salida]})]}),(0,_.jsxs)(`div`,{className:`flex flex-col text-right`,children:[(0,_.jsx)(`span`,{className:`text-xs text-secondary uppercase`,children:`Total`}),(0,_.jsxs)(`span`,{className:`text-xl bg-theme-accent text-white px-2 border-2 border-black -rotate-2 shadow-sm inline-block`,children:[e.total_horas,`h`]})]})]}),(0,_.jsxs)(`div`,{className:`mt-2 text-sm font-semibold text-secondary border-t-2 border-dashed border-black pt-2`,children:[(0,_.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,_.jsx)(`div`,{className:`w-2 h-2 bg-black rounded-full`}),e.origen]}),(0,_.jsx)(`div`,{className:`ml-1 border-l-2 border-black h-3 my-0.5`}),(0,_.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,_.jsx)(`div`,{className:`w-2 h-2 bg-theme-accent border border-black rounded-full`}),e.destino]})]}),(0,_.jsxs)(`div`,{className:`mt-2 pt-2 border-t-2 border-black text-xs text-right font-mono text-secondary`,children:[e.nombre,` `,e.apellido_paterno,` (`,e.numero_empleado,`)`]})]},t),t[16]=i,t[17]=o,t[18]=e):e=t[18],d=r.map(e),t[12]=r,t[13]=i,t[14]=o,t[15]=d}else d=t[15];let f;t[19]===d?f=t[20]:(f=(0,_.jsx)(`div`,{className:`grid grid-cols-1 gap-4 md:hidden`,children:d}),t[19]=d,t[20]=f);let p;return t[21]!==u||t[22]!==f?(p=(0,_.jsxs)(`div`,{className:`w-full space-y-4`,children:[s,u,f]}),t[21]=u,t[22]=f,t[23]=p):p=t[23],p};var y=c();const b=n=>{let a=(0,y.c)(20),{isFormOpen:o,onToggleForm:s,isAddDisabled:c}=n,u=c===void 0?!1:c,d=u?void 0:s,f=o?`bg-action-delete text-white hover:brightness-110`:u?`bg-gray-400 text-gray-200 cursor-not-allowed border-gray-600 shadow-none opacity-80`:`bg-action-create text-white hover:brightness-110`,p;a[0]===f?p=a[1]:(p=l(`flex items-center gap-2 px-6 py-3 font-black uppercase text-sm border-2 border-black transition-all shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] active:shadow-none active:translate-x-0.5 active:translate-y-0.5`,f),a[0]=f,a[1]=p);let m=u?`Completa tu perfil para añadir registros`:``,h;a[2]!==u||a[3]!==o?(h=u?(0,_.jsx)(e,{size:16}):o?(0,_.jsx)(i,{size:16}):(0,_.jsx)(r,{size:16}),a[2]=u,a[3]=o,a[4]=h):h=a[4];let g=o?`Cerrar Formulario`:`Nuevo Registro`,v;a[5]!==u||a[6]!==d||a[7]!==p||a[8]!==m||a[9]!==h||a[10]!==g?(v=(0,_.jsx)(`div`,{className:`flex items-center gap-4`,children:(0,_.jsxs)(`button`,{onClick:d,disabled:u,className:p,title:m,children:[h,g]})}),a[5]=u,a[6]=d,a[7]=p,a[8]=m,a[9]=h,a[10]=g,a[11]=v):v=a[11];let b;a[12]===u?b=a[13]:(b=u&&(0,_.jsx)(`span`,{className:`text-xs font-bold text-red-600 bg-red-100 px-2 py-1 border border-red-500 inline-block`,children:`⚠ Completa tu perfil primero`}),a[12]=u,a[13]=b);let x;a[14]!==v||a[15]!==b?(x=(0,_.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[v,b]}),a[14]=v,a[15]=b,a[16]=x):x=a[16];let S;a[17]===Symbol.for(`react.memo_cache_sentinel`)?(S=(0,_.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,_.jsxs)(`div`,{className:`items-center gap-2 px-4 py-2 border-2 border-black bg-white/50 opacity-60 cursor-not-allowed hidden md:flex`,children:[(0,_.jsx)(t,{className:`text-secondary`}),(0,_.jsx)(`span`,{className:`text-secondary font-bold text-xs uppercase`,children:`Filtros (Próximamente)`})]})}),a[17]=S):S=a[17];let C;return a[18]===x?C=a[19]:(C=(0,_.jsxs)(`div`,{className:`w-full flex flex-col md:flex-row items-stretch md:items-center justify-between gap-4 p-4 border-4 border-black bg-theme-bg shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] mb-8`,children:[x,S]}),a[18]=x,a[19]=C),C};var x=c(),S=()=>{let e=(0,x.c)(36),{userProfile:t}=p(),[n,a]=(0,h.useState)(!1),[o,s]=(0,h.useState)(null),c=!t||!t.jobTitle||!t.sector||!t.employeeId,[g,y]=(0,h.useState)(C),S;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(S={empresa:``,numero_empleado:``,nombre:``,apellido_paterno:``,apellido_materno:``,telefono:``,dia:``,mes:``,anio:``,hora_entrada:``,hora_salida:``,origen:``,destino:``,total_horas:``},e[0]=S):S=e[0];let[w,T]=(0,h.useState)(S),E,D;e[1]===g?(E=e[2],D=e[3]):(E=()=>{localStorage.setItem(`horas-data`,JSON.stringify(g))},D=[g],e[1]=g,e[2]=E,e[3]=D),(0,h.useEffect)(E,D);let O;e[4]===Symbol.for(`react.memo_cache_sentinel`)?(O=e=>{let{name:t,value:n}=e.target;T(e=>{let r={...e,[t]:n};return(t===`hora_entrada`||t===`hora_salida`)&&r.hora_entrada&&r.hora_salida&&(r.total_horas=u(r.hora_entrada,r.hora_salida)),r})},e[4]=O):O=e[4];let k=O,A;e[5]!==o||e[6]!==g||e[7]!==w?(A=()=>{if(!w.empresa||!w.dia||!w.hora_entrada){alert(`Por favor completa los campos obligatorios`);return}if(o!==null){let e=[...g];e[o]=w,y(e),s(null)}else y([...g,w]);T({empresa:``,numero_empleado:``,nombre:``,apellido_paterno:``,apellido_materno:``,telefono:``,dia:``,mes:``,anio:``,hora_entrada:``,hora_salida:``,origen:``,destino:``,total_horas:``,ramo:``}),a(!1)},e[5]=o,e[6]=g,e[7]=w,e[8]=A):A=e[8];let j=A,M;e[9]===g?M=e[10]:(M=e=>{T(g[e]),s(e),a(!0)},e[9]=g,e[10]=M);let N=M,P;e[11]!==o||e[12]!==g?(P=e=>{y(g.filter((t,n)=>n!==e)),o===e&&(s(null),a(!1))},e[11]=o,e[12]=g,e[13]=P):P=e[13];let F=P,I;e[14]===n?I=e[15]:(I=()=>{n?(a(!1),s(null)):(T({empresa:``,numero_empleado:``,nombre:``,apellido_paterno:``,apellido_materno:``,telefono:``,dia:``,mes:``,anio:``,hora_entrada:``,hora_salida:``,origen:``,destino:``,total_horas:``,ramo:``}),s(null),a(!0))},e[14]=n,e[15]=I);let L=I,R;e[16]===Symbol.for(`react.memo_cache_sentinel`)?(R=(0,_.jsx)(d,{}),e[16]=R):R=e[16];let z;e[17]!==L||e[18]!==n||e[19]!==c?(z=(0,_.jsx)(b,{isFormOpen:n,onToggleForm:L,isAddDisabled:c}),e[17]=L,e[18]=n,e[19]=c,e[20]=z):z=e[20];let B;e[21]!==o||e[22]!==j||e[23]!==n||e[24]!==w?(B=n&&(0,_.jsx)(`div`,{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 xl:static xl:z-auto xl:bg-transparent xl:p-0 xl:backdrop-blur-none xl:flex-col xl:w-auto xl:min-w-112.5 animate-in fade-in duration-200 xl:slide-in-from-left`,children:(0,_.jsxs)(`div`,{className:`w-full max-h-[90vh] overflow-y-auto no-scrollbar xl:overflow-visible xl:max-h-none flex flex-col items-center gap-6 xl:gap-0`,children:[(0,_.jsx)(`div`,{className:`w-full flex justify-end xl:hidden sticky top-0 z-10 mb-2`,children:(0,_.jsx)(`button`,{onClick:()=>a(!1),className:`bg-red-500 text-white p-2 border-2 border-black shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] active:translate-y-0.5 active:shadow-none transition-all`,children:(0,_.jsx)(i,{size:24})})}),(0,_.jsx)(m,{formData:w,onChange:k,setFormData:T}),(0,_.jsxs)(`button`,{onClick:()=>{j()},className:`mt-8 group flex items-center gap-3 bg-action-create text-white border-4 border-black font-black uppercase tracking-widest text-xl py-4 px-12 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 hover:shadow-[12px_12px_0px_0px_rgba(0,0,0,1)] active:translate-y-1 active:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all cursor-pointer w-full justify-center xl:w-auto xl:mt-8`,children:[(0,_.jsx)(r,{className:l(`transition-transform duration-300`,o===null?`group-hover:rotate-90`:``)}),o===null?`Registrar`:`Actualizar`]}),(0,_.jsx)(`div`,{className:`h-8 xl:hidden`})]})}),e[21]=o,e[22]=j,e[23]=n,e[24]=w,e[25]=B):B=e[25];let V;e[26]!==F||e[27]!==N||e[28]!==g?(V=(0,_.jsx)(`div`,{className:`w-full xl:flex-1 h-full animate-in fade-in duration-500`,children:(0,_.jsx)(v,{data:g,onDelete:F,onEdit:N})}),e[26]=F,e[27]=N,e[28]=g,e[29]=V):V=e[29];let H;e[30]!==B||e[31]!==V?(H=(0,_.jsxs)(`div`,{className:`flex flex-col xl:flex-row items-start justify-center w-full gap-8`,children:[B,V]}),e[30]=B,e[31]=V,e[32]=H):H=e[32];let U;return e[33]!==H||e[34]!==z?(U=(0,_.jsxs)(_.Fragment,{children:[R,(0,_.jsx)(f,{children:(0,_.jsxs)(`div`,{className:`w-full flex flex-col py-8 px-4`,children:[z,H]})})]}),e[33]=H,e[34]=z,e[35]=U):U=e[35],U};function C(){let e=localStorage.getItem(`horas-data`);return e?JSON.parse(e):[]}export{S as default};