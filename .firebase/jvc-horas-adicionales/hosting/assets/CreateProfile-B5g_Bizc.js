import{a as e,at as t,d as n,et as r,h as i,l as a,m as o,q as s,s as c}from"./vendor-5br9Pmv5.js";import{n as l}from"./index-CLUmCb58.js";import{n as u,t as d}from"./Main-uK7Yr_lq.js";import{t as f}from"./useUserProfile-CYApFkuB.js";var p=t(),m=s(),h=()=>{let{displayName:t,photoURL:s}=l(),{userProfile:h,updateProfile:g,isLoading:_}=f(),v=r(),y=(0,p.useMemo)(()=>({displayName:h?.displayName||t||``,jobTitle:h?.jobTitle||``,sector:h?.sector||``,employeeId:h?.employeeId||``,phoneNumber:h?.phoneNumber||``}),[h,t]),[b,x]=(0,p.useState)(y);(0,p.useEffect)(()=>{x(y)},[y]);let S=e=>{let{name:t,value:n}=e.target;x(e=>({...e,[t]:n}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u,{}),(0,m.jsx)(d,{children:(0,m.jsxs)(`div`,{className:`w-full max-w-2xl mx-auto p-4 md:p-6 font-mono`,children:[(0,m.jsxs)(`div`,{className:`mb-8 text-center relative`,children:[(0,m.jsx)(`h1`,{className:`text-4xl md:text-5xl font-black uppercase italic tracking-tighter text-black drop-shadow-[3px_3px_0_rgba(255,255,255,1)]`,children:h?`Editar Perfil`:`Crear Perfil`}),(0,m.jsx)(`div`,{className:`absolute -top-4 -right-2 md:right-10 rotate-12 bg-cyan-400 border-4 border-black px-3 py-1 text-sm font-bold shadow-[4px_4px_0_0_#000]`,children:h?`Actualizar`:`¡Nuevo!`})]}),(0,m.jsxs)(`div`,{className:`relative`,children:[(0,m.jsx)(`div`,{className:`absolute inset-0 bg-black translate-x-3 translate-y-3 rounded-xl`}),(0,m.jsxs)(`form`,{onSubmit:async e=>{e.preventDefault();try{await g({displayName:b.displayName,jobTitle:b.jobTitle,sector:b.sector,employeeId:b.employeeId,phoneNumber:b.phoneNumber,photoURL:s||``}),v(`/profile`)}catch(e){console.error(`Error al guardar:`,e),alert(`Error al guardar el perfil. Intenta nuevamente.`)}},className:`relative bg-white border-4 border-black p-6 md:p-8 rounded-xl flex flex-col gap-6`,children:[(0,m.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,m.jsx)(`div`,{className:`w-32 h-32 bg-slate-200 border-4 border-black rounded-full overflow-hidden relative`,children:s?(0,m.jsx)(`img`,{src:s,alt:`Profile`,className:`w-full h-full object-cover`}):(0,m.jsx)(e,{size:64,className:`text-slate-400 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`})})}),(0,m.jsxs)(`div`,{className:`space-y-4`,children:[(0,m.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,m.jsxs)(`label`,{className:`font-black uppercase text-sm flex items-center gap-2`,children:[(0,m.jsx)(e,{size:18}),` Nombre Completo`]}),(0,m.jsx)(`input`,{type:`text`,name:`displayName`,value:b.displayName,onChange:S,className:`w-full bg-yellow-100 border-4 border-black p-3 font-bold focus:outline-none focus:bg-yellow-200 focus:shadow-[4px_4px_0_0_#000] transition-all`,placeholder:`Tu nombre...`})]}),(0,m.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,m.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,m.jsxs)(`label`,{className:`font-black uppercase text-sm flex items-center gap-2`,children:[(0,m.jsx)(i,{size:18}),` Cargo / Puesto`]}),(0,m.jsx)(`input`,{type:`text`,name:`jobTitle`,value:b.jobTitle,onChange:S,className:`w-full bg-white border-4 border-black p-3 font-bold focus:outline-none focus:bg-cyan-100 focus:shadow-[4px_4px_0_0_#000] transition-all`,placeholder:`Ej. Diseñador`})]}),(0,m.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,m.jsxs)(`label`,{className:`font-black uppercase text-sm flex items-center gap-2`,children:[(0,m.jsx)(o,{size:18}),` Sector`]}),(0,m.jsxs)(`select`,{name:`sector`,value:b.sector,onChange:S,className:`w-full bg-white border-4 border-black p-3 font-bold focus:outline-none focus:bg-cyan-100 focus:shadow-[4px_4px_0_0_#000] transition-all appearance-none cursor-pointer`,children:[(0,m.jsx)(`option`,{value:``,children:`Seleccionar...`}),(0,m.jsx)(`option`,{value:`Tecnología`,children:`Tecnología`}),(0,m.jsx)(`option`,{value:`Recursos Humanos`,children:`Recursos Humanos`}),(0,m.jsx)(`option`,{value:`Operaciones`,children:`Operaciones`}),(0,m.jsx)(`option`,{value:`Ventas`,children:`Ventas`}),(0,m.jsx)(`option`,{value:`Transporte`,children:`Transporte`}),(0,m.jsx)(`option`,{value:`Otro`,children:`Otro`})]})]})]}),(0,m.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,m.jsxs)(`label`,{className:`font-black uppercase text-sm flex items-center gap-2`,children:[(0,m.jsx)(n,{size:18}),` ID de Empleado`]}),(0,m.jsx)(`input`,{type:`text`,name:`employeeId`,value:b.employeeId,onChange:S,className:`w-full bg-white border-4 border-black p-3 font-bold focus:outline-none focus:bg-cyan-100 focus:shadow-[4px_4px_0_0_#000] transition-all`,placeholder:`Ej. EMP-001`})]}),(0,m.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,m.jsxs)(`label`,{className:`font-black uppercase text-sm flex items-center gap-2`,children:[(0,m.jsx)(a,{size:18}),` Telefono`]}),(0,m.jsx)(`input`,{type:`tel`,name:`phoneNumber`,value:b.phoneNumber,onChange:S,className:`w-full bg-white border-4 border-black p-3 font-bold focus:outline-none focus:bg-cyan-100 focus:shadow-[4px_4px_0_0_#000] transition-all`,placeholder:`Ej. +34 600 000 000`})]})]}),(0,m.jsx)(`button`,{type:`submit`,disabled:_,className:`mt-4 bg-red-500 hover:bg-red-400 disabled:bg-gray-400 text-white font-black uppercase text-xl py-4 border-4 border-black shadow-[6px_6px_0_0_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-[2px_2px_0_0_#000] transition-all flex items-center justify-center gap-3 cursor-pointer`,children:_?`Guardando...`:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c,{size:24}),` Guardar Perfil`]})})]})]})]})})]})};export{h as default};